<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç®¡ç†ç«¯åŠŸèƒ½æ¸¬è©¦ - é¤å»³é»é¤ç³»çµ±</title>
    <link rel="stylesheet" href="css/admin.css">
    <style>
        .test-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .test-section {
            background: white;
            padding: 2rem;
            margin-bottom: 2rem;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .test-section h2 {
            color: var(--primary-color);
            border-bottom: 2px solid var(--border-color);
            padding-bottom: 0.5rem;
            margin-bottom: 1.5rem;
        }
        
        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1rem;
        }
        
        .test-item {
            padding: 1.5rem;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            text-align: center;
        }
        
        .test-item h3 {
            margin-top: 0;
            color: var(--primary-color);
        }
        
        .test-item p {
            color: #666;
            margin-bottom: 1rem;
        }
        
        .test-status {
            margin-top: 1rem;
            padding: 0.5rem;
            border-radius: 4px;
            font-weight: 500;
        }
        
        .test-status.success {
            background: #e8f5e8;
            color: #2e7d32;
        }
        
        .test-status.warning {
            background: #fff3e0;
            color: #f57c00;
        }
        
        .test-status.error {
            background: #ffebee;
            color: #d32f2f;
        }
        
        .quick-nav {
            background: var(--primary-color);
            color: white;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 2rem;
        }
        
        .quick-nav h2 {
            margin-top: 0;
            color: white;
        }
        
        .nav-links {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        .nav-links a {
            color: white;
            text-decoration: none;
            padding: 0.5rem 1rem;
            border: 1px solid white;
            border-radius: 4px;
            transition: all 0.2s ease;
        }
        
        .nav-links a:hover {
            background: white;
            color: var(--primary-color);
        }
    </style>
</head>
<body>
    <div class="test-container">
        <header class="quick-nav">
            <h2>ğŸª ç®¡ç†ç«¯åŠŸèƒ½æ¸¬è©¦</h2>
            <div class="nav-links">
                <a href="admin/dashboard.html" target="_blank">ä¸»æ§å°</a>
                <a href="admin/menu-manage.html" target="_blank">èœå–®ç®¡ç†</a>
                <a href="admin/orders.html" target="_blank">è¨‚å–®ç®¡ç†</a>
                <a href="admin/reports.html" target="_blank">ç‡Ÿæ¥­å ±è¡¨</a>
                <a href="admin/settings.html" target="_blank">ç³»çµ±è¨­å®š</a>
                <a href="admin/permissions.html" target="_blank">æ¬Šé™ç®¡ç†</a>
            </div>
        </header>

        <!-- ç³»çµ±è¨­å®šæ¸¬è©¦ -->
        <section class="test-section">
            <h2>ğŸ”§ ç³»çµ±è¨­å®šåŠŸèƒ½æ¸¬è©¦</h2>
            <div class="test-grid">
                <div class="test-item">
                    <h3>é¤å»³è³‡è¨Šç®¡ç†</h3>
                    <p>æ¸¬è©¦é¤å»³åŸºæœ¬è³‡è¨Šçš„å„²å­˜å’Œè¼‰å…¥</p>
                    <button class="btn btn-primary" onclick="testRestaurantInfo()">æ¸¬è©¦é¤å»³è³‡è¨Š</button>
                    <div id="restaurantInfoStatus" class="test-status"></div>
                </div>
                
                <div class="test-item">
                    <h3>ç”¨æˆ¶ç®¡ç†</h3>
                    <p>æ¸¬è©¦ç”¨æˆ¶æ–°å¢ã€ç·¨è¼¯ã€åˆªé™¤åŠŸèƒ½</p>
                    <button class="btn btn-primary" onclick="testUserManagement()">æ¸¬è©¦ç”¨æˆ¶ç®¡ç†</button>
                    <div id="userManagementStatus" class="test-status"></div>
                </div>
                
                <div class="test-item">
                    <h3>ç³»çµ±é…ç½®</h3>
                    <p>æ¸¬è©¦ç³»çµ±è¨­å®šçš„å„²å­˜å’Œè¼‰å…¥</p>
                    <button class="btn btn-primary" onclick="testSystemConfig()">æ¸¬è©¦ç³»çµ±é…ç½®</button>
                    <div id="systemConfigStatus" class="test-status"></div>
                </div>
                
                <div class="test-item">
                    <h3>æ¡Œè™Ÿç®¡ç†</h3>
                    <p>æ¸¬è©¦æ¡Œè™Ÿè¨­å®šå’Œç‹€æ…‹ç®¡ç†</p>
                    <button class="btn btn-primary" onclick="testTableManagement()">æ¸¬è©¦æ¡Œè™Ÿç®¡ç†</button>
                    <div id="tableManagementStatus" class="test-status"></div>
                </div>
                
                <div class="test-item">
                    <h3>å‚™ä»½é‚„åŸ</h3>
                    <p>æ¸¬è©¦è³‡æ–™å‚™ä»½å’Œé‚„åŸåŠŸèƒ½</p>
                    <button class="btn btn-primary" onclick="testBackupRestore()">æ¸¬è©¦å‚™ä»½é‚„åŸ</button>
                    <div id="backupRestoreStatus" class="test-status"></div>
                </div>
                
                <div class="test-item">
                    <h3>å®‰å…¨è¨­å®š</h3>
                    <p>æ¸¬è©¦å®‰å…¨ç›¸é—œè¨­å®šå’Œé©—è­‰</p>
                    <button class="btn btn-primary" onclick="testSecuritySettings()">æ¸¬è©¦å®‰å…¨è¨­å®š</button>
                    <div id="securitySettingsStatus" class="test-status"></div>
                </div>
            </div>
        </section>

        <!-- æ¬Šé™ç®¡ç†æ¸¬è©¦ -->
        <section class="test-section">
            <h2>ğŸ” æ¬Šé™ç®¡ç†åŠŸèƒ½æ¸¬è©¦</h2>
            <div class="test-grid">
                <div class="test-item">
                    <h3>è§’è‰²ç®¡ç†</h3>
                    <p>æ¸¬è©¦è§’è‰²æ–°å¢ã€ç·¨è¼¯ã€åˆªé™¤åŠŸèƒ½</p>
                    <button class="btn btn-primary" onclick="testRoleManagement()">æ¸¬è©¦è§’è‰²ç®¡ç†</button>
                    <div id="roleManagementStatus" class="test-status"></div>
                </div>
                
                <div class="test-item">
                    <h3>æ¬Šé™åˆ†é…</h3>
                    <p>æ¸¬è©¦æ¬Šé™çš„åˆ†é…å’Œæ’¤éŠ·</p>
                    <button class="btn btn-primary" onclick="testPermissionAssignment()">æ¸¬è©¦æ¬Šé™åˆ†é…</button>
                    <div id="permissionAssignmentStatus" class="test-status"></div>
                </div>
                
                <div class="test-item">
                    <h3>æ¬Šé™æª¢æŸ¥</h3>
                    <p>æ¸¬è©¦æ¬Šé™é©—è­‰æ©Ÿåˆ¶</p>
                    <button class="btn btn-primary" onclick="testPermissionCheck()">æ¸¬è©¦æ¬Šé™æª¢æŸ¥</button>
                    <div id="permissionCheckStatus" class="test-status"></div>
                </div>
                
                <div class="test-item">
                    <h3>æ¬Šé™è¨˜éŒ„</h3>
                    <p>æ¸¬è©¦æ¬Šé™è®Šæ›´è¨˜éŒ„åŠŸèƒ½</p>
                    <button class="btn btn-primary" onclick="testPermissionLogs()">æ¸¬è©¦æ¬Šé™è¨˜éŒ„</button>
                    <div id="permissionLogsStatus" class="test-status"></div>
                </div>
            </div>
        </section>

        <!-- æ•´åˆæ¸¬è©¦ -->
        <section class="test-section">
            <h2>ğŸ”„ æ•´åˆåŠŸèƒ½æ¸¬è©¦</h2>
            <div class="test-grid">
                <div class="test-item">
                    <h3>è³‡æ–™åŒæ­¥æ¸¬è©¦</h3>
                    <p>æ¸¬è©¦å„æ¨¡çµ„é–“çš„è³‡æ–™åŒæ­¥</p>
                    <button class="btn btn-primary" onclick="testDataSync()">æ¸¬è©¦è³‡æ–™åŒæ­¥</button>
                    <div id="dataSyncStatus" class="test-status"></div>
                </div>
                
                <div class="test-item">
                    <h3>æœ¬åœ°å„²å­˜æ¸¬è©¦</h3>
                    <p>æ¸¬è©¦ localStorage çš„ä½¿ç”¨</p>
                    <button class="btn btn-primary" onclick="testLocalStorage()">æ¸¬è©¦æœ¬åœ°å„²å­˜</button>
                    <div id="localStorageStatus" class="test-status"></div>
                </div>
                
                <div class="test-item">
                    <h3>ä¸»é¡Œåˆ‡æ›æ¸¬è©¦</h3>
                    <p>æ¸¬è©¦ä¸»é¡Œåˆ‡æ›åŠŸèƒ½</p>
                    <button class="btn btn-primary" onclick="testThemeSwitch()">æ¸¬è©¦ä¸»é¡Œåˆ‡æ›</button>
                    <div id="themeSwitchStatus" class="test-status"></div>
                </div>
                
                <div class="test-item">
                    <h3>å…¨åŠŸèƒ½æ¸¬è©¦</h3>
                    <p>åŸ·è¡Œæ‰€æœ‰åŠŸèƒ½çš„å®Œæ•´æ¸¬è©¦</p>
                    <button class="btn btn-success" onclick="runAllTests()">åŸ·è¡Œå…¨éƒ¨æ¸¬è©¦</button>
                    <div id="allTestsStatus" class="test-status"></div>
                </div>
            </div>
        </section>

        <!-- æ¸¬è©¦çµæœ -->
        <section class="test-section">
            <h2>ğŸ“Š æ¸¬è©¦çµæœçµ±è¨ˆ</h2>
            <div style="display: flex; justify-content: space-around; text-align: center;">
                <div>
                    <h3 id="passedCount">0</h3>
                    <p style="color: #2e7d32;">é€šéæ¸¬è©¦</p>
                </div>
                <div>
                    <h3 id="warningCount">0</h3>
                    <p style="color: #f57c00;">è­¦å‘Šæ¸¬è©¦</p>
                </div>
                <div>
                    <h3 id="failedCount">0</h3>
                    <p style="color: #d32f2f;">å¤±æ•—æ¸¬è©¦</p>
                </div>
                <div>
                    <h3 id="totalCount">0</h3>
                    <p style="color: #666;">ç¸½æ¸¬è©¦æ•¸</p>
                </div>
            </div>
        </section>
    </div>

    <script>
        // æ¸¬è©¦çµ±è¨ˆ
        let testStats = {
            passed: 0,
            warning: 0,
            failed: 0,
            total: 0
        };

        // æ›´æ–°æ¸¬è©¦ç‹€æ…‹
        function updateTestStatus(elementId, status, message) {
            const element = document.getElementById(elementId);
            element.className = `test-status ${status}`;
            element.textContent = message;
            
            testStats.total++;
            testStats[status]++;
            updateTestStats();
        }

        function updateTestStats() {
            document.getElementById('passedCount').textContent = testStats.passed;
            document.getElementById('warningCount').textContent = testStats.warning;
            document.getElementById('failedCount').textContent = testStats.failed;
            document.getElementById('totalCount').textContent = testStats.total;
        }

        // ç³»çµ±è¨­å®šæ¸¬è©¦
        function testRestaurantInfo() {
            try {
                const testData = {
                    name: 'æ¸¬è©¦é¤å»³',
                    phone: '02-1234-5678',
                    address: 'å°åŒ—å¸‚æ¸¬è©¦å€æ¸¬è©¦è·¯123è™Ÿ'
                };
                
                localStorage.setItem('restaurantSettings', JSON.stringify({ restaurantInfo: testData }));
                const saved = JSON.parse(localStorage.getItem('restaurantSettings'));
                
                if (saved.restaurantInfo.name === testData.name) {
                    updateTestStatus('restaurantInfoStatus', 'success', 'âœ“ é¤å»³è³‡è¨Šå„²å­˜/è¼‰å…¥æ­£å¸¸');
                } else {
                    updateTestStatus('restaurantInfoStatus', 'error', 'âœ— è³‡æ–™å„²å­˜å¤±æ•—');
                }
            } catch (error) {
                updateTestStatus('restaurantInfoStatus', 'error', 'âœ— æ¸¬è©¦åŸ·è¡ŒéŒ¯èª¤: ' + error.message);
            }
        }

        function testUserManagement() {
            try {
                const testUsers = [
                    { username: 'test1', role: 'admin', status: 'active' },
                    { username: 'test2', role: 'staff', status: 'active' }
                ];
                
                localStorage.setItem('restaurantUsers', JSON.stringify(testUsers));
                const saved = JSON.parse(localStorage.getItem('restaurantUsers'));
                
                if (saved.length === 2 && saved[0].username === 'test1') {
                    updateTestStatus('userManagementStatus', 'success', 'âœ“ ç”¨æˆ¶ç®¡ç†åŠŸèƒ½æ­£å¸¸');
                } else {
                    updateTestStatus('userManagementStatus', 'error', 'âœ— ç”¨æˆ¶è³‡æ–™è™•ç†å¤±æ•—');
                }
            } catch (error) {
                updateTestStatus('userManagementStatus', 'error', 'âœ— æ¸¬è©¦åŸ·è¡ŒéŒ¯èª¤: ' + error.message);
            }
        }

        function testSystemConfig() {
            try {
                const testConfig = {
                    theme: 'dark',
                    language: 'zh-TW',
                    autoAcceptOrders: true
                };
                
                localStorage.setItem('restaurantSettings', JSON.stringify({ systemConfig: testConfig }));
                const saved = JSON.parse(localStorage.getItem('restaurantSettings'));
                
                if (saved.systemConfig.theme === 'dark') {
                    updateTestStatus('systemConfigStatus', 'success', 'âœ“ ç³»çµ±é…ç½®å„²å­˜æ­£å¸¸');
                } else {
                    updateTestStatus('systemConfigStatus', 'error', 'âœ— é…ç½®å„²å­˜å¤±æ•—');
                }
            } catch (error) {
                updateTestStatus('systemConfigStatus', 'error', 'âœ— æ¸¬è©¦åŸ·è¡ŒéŒ¯èª¤: ' + error.message);
            }
        }

        function testTableManagement() {
            try {
                const testTableConfig = {
                    maxTableNumber: 50,
                    tablePrefix: 'A'
                };
                
                localStorage.setItem('restaurantSettings', JSON.stringify({ tableConfig: testTableConfig }));
                const saved = JSON.parse(localStorage.getItem('restaurantSettings'));
                
                if (saved.tableConfig.maxTableNumber === 50) {
                    updateTestStatus('tableManagementStatus', 'success', 'âœ“ æ¡Œè™Ÿç®¡ç†åŠŸèƒ½æ­£å¸¸');
                } else {
                    updateTestStatus('tableManagementStatus', 'error', 'âœ— æ¡Œè™Ÿè¨­å®šå¤±æ•—');
                }
            } catch (error) {
                updateTestStatus('tableManagementStatus', 'error', 'âœ— æ¸¬è©¦åŸ·è¡ŒéŒ¯èª¤: ' + error.message);
            }
        }

        function testBackupRestore() {
            try {
                const testBackup = {
                    timestamp: new Date().toISOString(),
                    data: { test: 'backup data' }
                };
                
                const backups = [testBackup];
                localStorage.setItem('backupHistory', JSON.stringify(backups));
                const saved = JSON.parse(localStorage.getItem('backupHistory'));
                
                if (saved.length === 1 && saved[0].data.test === 'backup data') {
                    updateTestStatus('backupRestoreStatus', 'success', 'âœ“ å‚™ä»½é‚„åŸåŠŸèƒ½æ­£å¸¸');
                } else {
                    updateTestStatus('backupRestoreStatus', 'error', 'âœ— å‚™ä»½è³‡æ–™è™•ç†å¤±æ•—');
                }
            } catch (error) {
                updateTestStatus('backupRestoreStatus', 'error', 'âœ— æ¸¬è©¦åŸ·è¡ŒéŒ¯èª¤: ' + error.message);
            }
        }

        function testSecuritySettings() {
            try {
                const testSecurity = {
                    minPasswordLength: 8,
                    requireUppercase: true,
                    maxLoginAttempts: 5
                };
                
                localStorage.setItem('restaurantSettings', JSON.stringify({ securitySettings: testSecurity }));
                const saved = JSON.parse(localStorage.getItem('restaurantSettings'));
                
                if (saved.securitySettings.minPasswordLength === 8) {
                    updateTestStatus('securitySettingsStatus', 'success', 'âœ“ å®‰å…¨è¨­å®šåŠŸèƒ½æ­£å¸¸');
                } else {
                    updateTestStatus('securitySettingsStatus', 'error', 'âœ— å®‰å…¨è¨­å®šå¤±æ•—');
                }
            } catch (error) {
                updateTestStatus('securitySettingsStatus', 'error', 'âœ— æ¸¬è©¦åŸ·è¡ŒéŒ¯èª¤: ' + error.message);
            }
        }

        // æ¬Šé™ç®¡ç†æ¸¬è©¦
        function testRoleManagement() {
            try {
                const testRoles = [
                    { id: 'admin', name: 'ç®¡ç†å“¡', permissions: ['*'] },
                    { id: 'test_role', name: 'æ¸¬è©¦è§’è‰²', permissions: ['menu_view'] }
                ];
                
                localStorage.setItem('userRoles', JSON.stringify(testRoles));
                const saved = JSON.parse(localStorage.getItem('userRoles'));
                
                if (saved.length === 2 && saved[1].name === 'æ¸¬è©¦è§’è‰²') {
                    updateTestStatus('roleManagementStatus', 'success', 'âœ“ è§’è‰²ç®¡ç†åŠŸèƒ½æ­£å¸¸');
                } else {
                    updateTestStatus('roleManagementStatus', 'error', 'âœ— è§’è‰²è³‡æ–™è™•ç†å¤±æ•—');
                }
            } catch (error) {
                updateTestStatus('roleManagementStatus', 'error', 'âœ— æ¸¬è©¦åŸ·è¡ŒéŒ¯èª¤: ' + error.message);
            }
        }

        function testPermissionAssignment() {
            try {
                const testPermissions = {
                    'test_user': ['menu_view', 'order_process']
                };
                
                localStorage.setItem('userPermissions', JSON.stringify(testPermissions));
                const saved = JSON.parse(localStorage.getItem('userPermissions'));
                
                if (saved.test_user && saved.test_user.includes('menu_view')) {
                    updateTestStatus('permissionAssignmentStatus', 'success', 'âœ“ æ¬Šé™åˆ†é…åŠŸèƒ½æ­£å¸¸');
                } else {
                    updateTestStatus('permissionAssignmentStatus', 'error', 'âœ— æ¬Šé™åˆ†é…å¤±æ•—');
                }
            } catch (error) {
                updateTestStatus('permissionAssignmentStatus', 'error', 'âœ— æ¸¬è©¦åŸ·è¡ŒéŒ¯èª¤: ' + error.message);
            }
        }

        function testPermissionCheck() {
            try {
                // æ¨¡æ“¬æ¬Šé™æª¢æŸ¥é‚è¼¯
                const hasPermission = (user, permission) => {
                    const userPermissions = JSON.parse(localStorage.getItem('userPermissions') || '{}');
                    return userPermissions[user] && userPermissions[user].includes(permission);
                };
                
                if (hasPermission('test_user', 'menu_view')) {
                    updateTestStatus('permissionCheckStatus', 'success', 'âœ“ æ¬Šé™æª¢æŸ¥æ©Ÿåˆ¶æ­£å¸¸');
                } else {
                    updateTestStatus('permissionCheckStatus', 'warning', 'â— æ¬Šé™æª¢æŸ¥éœ€è¦å®Œå–„');
                }
            } catch (error) {
                updateTestStatus('permissionCheckStatus', 'error', 'âœ— æ¸¬è©¦åŸ·è¡ŒéŒ¯èª¤: ' + error.message);
            }
        }

        function testPermissionLogs() {
            try {
                const testLogs = [
                    {
                        id: 1,
                        timestamp: new Date().toISOString(),
                        user: 'admin',
                        action: 'grant',
                        target: 'test_user',
                        description: 'æˆäºˆèœå–®æŸ¥çœ‹æ¬Šé™'
                    }
                ];
                
                localStorage.setItem('permissionLogs', JSON.stringify(testLogs));
                const saved = JSON.parse(localStorage.getItem('permissionLogs'));
                
                if (saved.length === 1 && saved[0].action === 'grant') {
                    updateTestStatus('permissionLogsStatus', 'success', 'âœ“ æ¬Šé™è¨˜éŒ„åŠŸèƒ½æ­£å¸¸');
                } else {
                    updateTestStatus('permissionLogsStatus', 'error', 'âœ— æ¬Šé™è¨˜éŒ„å¤±æ•—');
                }
            } catch (error) {
                updateTestStatus('permissionLogsStatus', 'error', 'âœ— æ¸¬è©¦åŸ·è¡ŒéŒ¯èª¤: ' + error.message);
            }
        }

        // æ•´åˆæ¸¬è©¦
        function testDataSync() {
            try {
                // æ¸¬è©¦è³‡æ–™åŒæ­¥
                const menuData = JSON.parse(localStorage.getItem('menuItems') || '[]');
                const userData = JSON.parse(localStorage.getItem('restaurantUsers') || '[]');
                
                updateTestStatus('dataSyncStatus', 'success', 'âœ“ è³‡æ–™åŒæ­¥åŠŸèƒ½æ­£å¸¸');
            } catch (error) {
                updateTestStatus('dataSyncStatus', 'error', 'âœ— è³‡æ–™åŒæ­¥éŒ¯èª¤: ' + error.message);
            }
        }

        function testLocalStorage() {
            try {
                const testKey = 'test_storage';
                const testValue = { test: true, timestamp: Date.now() };
                
                localStorage.setItem(testKey, JSON.stringify(testValue));
                const retrieved = JSON.parse(localStorage.getItem(testKey));
                localStorage.removeItem(testKey);
                
                if (retrieved.test === true) {
                    updateTestStatus('localStorageStatus', 'success', 'âœ“ æœ¬åœ°å„²å­˜åŠŸèƒ½æ­£å¸¸');
                } else {
                    updateTestStatus('localStorageStatus', 'error', 'âœ— æœ¬åœ°å„²å­˜å¤±æ•—');
                }
            } catch (error) {
                updateTestStatus('localStorageStatus', 'error', 'âœ— æœ¬åœ°å„²å­˜éŒ¯èª¤: ' + error.message);
            }
        }

        function testThemeSwitch() {
            try {
                // æ¸¬è©¦ä¸»é¡Œåˆ‡æ›
                document.body.classList.add('theme-dark');
                const hasDarkTheme = document.body.classList.contains('theme-dark');
                document.body.classList.remove('theme-dark');
                
                if (hasDarkTheme) {
                    updateTestStatus('themeSwitchStatus', 'success', 'âœ“ ä¸»é¡Œåˆ‡æ›åŠŸèƒ½æ­£å¸¸');
                } else {
                    updateTestStatus('themeSwitchStatus', 'error', 'âœ— ä¸»é¡Œåˆ‡æ›å¤±æ•—');
                }
            } catch (error) {
                updateTestStatus('themeSwitchStatus', 'error', 'âœ— ä¸»é¡Œåˆ‡æ›éŒ¯èª¤: ' + error.message);
            }
        }

        function runAllTests() {
            // é‡ç½®çµ±è¨ˆ
            testStats = { passed: 0, warning: 0, failed: 0, total: 0 };
            updateTestStats();
            
            // åŸ·è¡Œæ‰€æœ‰æ¸¬è©¦
            setTimeout(() => testRestaurantInfo(), 100);
            setTimeout(() => testUserManagement(), 200);
            setTimeout(() => testSystemConfig(), 300);
            setTimeout(() => testTableManagement(), 400);
            setTimeout(() => testBackupRestore(), 500);
            setTimeout(() => testSecuritySettings(), 600);
            setTimeout(() => testRoleManagement(), 700);
            setTimeout(() => testPermissionAssignment(), 800);
            setTimeout(() => testPermissionCheck(), 900);
            setTimeout(() => testPermissionLogs(), 1000);
            setTimeout(() => testDataSync(), 1100);
            setTimeout(() => testLocalStorage(), 1200);
            setTimeout(() => testThemeSwitch(), 1300);
            
            setTimeout(() => {
                const successRate = Math.round((testStats.passed / testStats.total) * 100);
                updateTestStatus('allTestsStatus', 'success', `âœ“ å…¨éƒ¨æ¸¬è©¦å®Œæˆ (æˆåŠŸç‡: ${successRate}%)`);
            }, 1500);
        }

        // é é¢è¼‰å…¥æ™‚é¡¯ç¤ºæç¤º
        document.addEventListener('DOMContentLoaded', () => {
            console.log('ç®¡ç†ç«¯åŠŸèƒ½æ¸¬è©¦é é¢å·²è¼‰å…¥');
            console.log('é»æ“Šå„å€‹æ¸¬è©¦æŒ‰éˆ•ä¾†é©—è­‰åŠŸèƒ½');
        });
    </script>
</body>
</html>
