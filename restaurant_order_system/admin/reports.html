<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>營業報表 - 餐廳點餐系統</title>
    <link rel="stylesheet" href="../css/admin.css">
</head>
<body>
    <div class="admin-container">
        <header class="admin-header">
            <h1>營業報表</h1>
            <nav class="admin-nav">
                <a href="dashboard.html">主控台</a>
                <a href="menu-manage.html">菜單管理</a>
                <a href="orders.html">訂單管理</a>
                <a href="reports.html" class="active">營業報表</a>
                <a href="settings.html">系統設定</a>
            </nav>
        </header>
        
        <main class="reports">
            <!-- 報表工具列 -->
            <section class="report-toolbar">
                <div class="date-range">
                    <label for="startDate">開始日期：</label>
                    <input type="date" id="startDate">
                    <label for="endDate">結束日期：</label>
                    <input type="date" id="endDate">
                    <button id="generateReport" class="btn-primary">生成報表</button>
                </div>
                
                <div class="report-actions">
                    <button id="exportPDF" class="btn-secondary">匯出 PDF</button>
                    <button id="exportExcel" class="btn-secondary">匯出 Excel</button>
                </div>
            </section>

            <!-- 營收概覽 -->
            <section class="revenue-overview">
                <h2>營收概覽</h2>
                <div class="revenue-stats">
                    <div class="revenue-card">
                        <div class="revenue-icon">💰</div>
                        <div class="revenue-info">
                            <div class="revenue-amount" id="totalRevenue">$0</div>
                            <div class="revenue-label">總營收</div>
                        </div>
                    </div>
                    
                    <div class="revenue-card">
                        <div class="revenue-icon">📋</div>
                        <div class="revenue-info">
                            <div class="revenue-amount" id="totalOrders">0</div>
                            <div class="revenue-label">總訂單數</div>
                        </div>
                    </div>
                    
                    <div class="revenue-card">
                        <div class="revenue-icon">💵</div>
                        <div class="revenue-info">
                            <div class="revenue-amount" id="avgOrderValue">$0</div>
                            <div class="revenue-label">平均客單價</div>
                        </div>
                    </div>
                    
                    <div class="revenue-card">
                        <div class="revenue-icon">⭐</div>
                        <div class="revenue-info">
                            <div class="revenue-amount" id="topSellingItem">-</div>
                            <div class="revenue-label">熱銷商品</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 銷售圖表 -->
            <section class="sales-chart">
                <h2>銷售趨勢</h2>
                <div class="chart-container">
                    <canvas id="salesChart" width="400" height="200"></canvas>
                </div>
            </section>

            <!-- 商品銷售排行 -->
            <section class="product-ranking">
                <h2>商品銷售排行</h2>
                <div class="ranking-table">
                    <table id="productRankingTable">
                        <thead>
                            <tr>
                                <th>排名</th>
                                <th>商品名稱</th>
                                <th>銷售數量</th>
                                <th>銷售金額</th>
                                <th>占比</th>
                            </tr>
                        </thead>
                        <tbody id="productRankingBody">
                            <!-- 排行資料將由 JavaScript 生成 -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- 時段分析 -->
            <section class="time-analysis">
                <h2>時段分析</h2>
                <div class="time-stats">
                    <div class="time-period">
                        <h3>早餐時段 (06:00-11:00)</h3>
                        <div class="period-stats">
                            <span class="period-orders" id="morningOrders">0 筆訂單</span>
                            <span class="period-revenue" id="morningRevenue">$0</span>
                        </div>
                    </div>
                    
                    <div class="time-period">
                        <h3>午餐時段 (11:00-14:00)</h3>
                        <div class="period-stats">
                            <span class="period-orders" id="lunchOrders">0 筆訂單</span>
                            <span class="period-revenue" id="lunchRevenue">$0</span>
                        </div>
                    </div>
                    
                    <div class="time-period">
                        <h3>下午時段 (14:00-17:00)</h3>
                        <div class="period-stats">
                            <span class="period-orders" id="afternoonOrders">0 筆訂單</span>
                            <span class="period-revenue" id="afternoonRevenue">$0</span>
                        </div>
                    </div>
                    
                    <div class="time-period">
                        <h3>晚餐時段 (17:00-22:00)</h3>
                        <div class="period-stats">
                            <span class="period-orders" id="dinnerOrders">0 筆訂單</span>
                            <span class="period-revenue" id="dinnerRevenue">$0</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 桌位使用率 -->
            <section class="table-usage">
                <h2>桌位使用分析</h2>
                <div class="table-grid" id="tableUsageGrid">
                    <!-- 桌位使用率將由 JavaScript 生成 -->
                </div>
            </section>
        </main>
    </div>

    <script src="../js/admin-reports.js"></script>
</body>
</html>
