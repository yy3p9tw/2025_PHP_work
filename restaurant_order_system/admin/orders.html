<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>訂單管理 - 餐廳點餐系統</title>
    <link rel="stylesheet" href="../css/admin.css">
</head>
<body>
    <div class="admin-container">
        <header class="admin-header">
            <h1>訂單管理</h1>
            <nav class="admin-nav">
                <a href="dashboard.html">主控台</a>
                <a href="menu-manage.html">菜單管理</a>
                <a href="orders.html" class="active">訂單管理</a>
                <a href="reports.html">營業報表</a>
                <a href="settings.html">系統設定</a>
            </nav>
        </header>
        
        <main class="orders-manage">
            <!-- 訂單統計 -->
            <section class="order-stats">
                <div class="stat-card">
                    <div class="stat-icon">⏳</div>
                    <div class="stat-info">
                        <div class="stat-number" id="pendingOrders">0</div>
                        <div class="stat-label">待處理</div>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">👨‍🍳</div>
                    <div class="stat-info">
                        <div class="stat-number" id="preparingOrders">0</div>
                        <div class="stat-label">製作中</div>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">🍽️</div>
                    <div class="stat-info">
                        <div class="stat-number" id="readyOrders">0</div>
                        <div class="stat-label">待取餐</div>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">✅</div>
                    <div class="stat-info">
                        <div class="stat-number" id="completedOrders">0</div>
                        <div class="stat-label">已完成</div>
                    </div>
                </div>
            </section>

            <!-- 操作工具列 -->
            <section class="order-toolbar">
                <div class="toolbar-left">
                    <select id="statusFilter">
                        <option value="">所有狀態</option>
                        <option value="pending">待處理</option>
                        <option value="preparing">製作中</option>
                        <option value="ready">待取餐</option>
                        <option value="completed">已完成</option>
                    </select>
                    
                    <input type="date" id="dateFilter" title="選擇日期">
                    
                    <input type="number" id="tableFilter" placeholder="桌號" min="1" max="99">
                </div>
                
                <div class="toolbar-right">
                    <button id="refreshOrders" class="btn-secondary">刷新</button>
                    <button id="addTestOrder" class="btn-primary">新增測試訂單</button>
                </div>
            </section>

            <!-- 訂單列表 -->
            <section class="order-list">
                <div class="order-cards" id="orderCards">
                    <!-- 訂單卡片將由 JavaScript 動態生成 -->
                </div>
                
                <div class="empty-state" id="emptyState" style="display: none;">
                    <div class="empty-icon">📋</div>
                    <h3>沒有找到訂單</h3>
                    <p>嘗試調整篩選條件或新增測試訂單</p>
                </div>
            </section>
        </main>

        <!-- 訂單詳情對話框 -->
        <div id="orderDetailModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="orderDetailTitle">訂單詳情</h2>
                    <button class="modal-close" onclick="orderManager.hideOrderDetail()">&times;</button>
                </div>
                
                <div class="modal-body">
                    <div class="order-info">
                        <div class="info-row">
                            <span class="info-label">訂單編號：</span>
                            <span class="info-value" id="detailOrderId">-</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">桌號：</span>
                            <span class="info-value" id="detailTableNumber">-</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">訂單時間：</span>
                            <span class="info-value" id="detailCreatedAt">-</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">狀態：</span>
                            <span class="info-value" id="detailStatus">-</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">總金額：</span>
                            <span class="info-value" id="detailTotalAmount">-</span>
                        </div>
                    </div>
                    
                    <div class="order-items">
                        <h3>訂單項目</h3>
                        <div id="detailOrderItems">
                            <!-- 訂單項目列表 -->
                        </div>
                    </div>
                </div>
                
                <div class="modal-footer">
                    <div class="status-actions" id="statusActions">
                        <!-- 狀態操作按鈕 -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="../js/admin-orders.js"></script>
</body>
</html>
